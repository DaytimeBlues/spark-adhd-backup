(self.webpackChunkspark_adhd_rn=self.webpackChunkspark_adhd_rn||[]).push([[728],{26216(e,t,r){var n=r(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(16578)),i=n(r(26007)),a=n(r(66584)),s=r(8747),l=["task","event","reminder","thought","worry","idea"],c=["high","medium","low"];function u(e){if(!e||"object"!==(0,a.default)(e))return!1;var t=e;return"string"==typeof t.text&&l.includes(t.category)&&c.includes(t.priority)}function d(e){if(!e||"object"!==(0,a.default)(e))throw new Error("Invalid AI sort response payload.");var t=e;if(!Array.isArray(t.sorted)||!t.sorted.every(u))throw new Error("Invalid AI sort response schema.");return{sorted:t.sorted}}var m={sortItems:function(e,t){return(0,i.default)(o.default.mark(function r(){var n,i,a,l;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=e.map(function(e){return e.trim()}).filter(Boolean).slice(0,100)).length){r.next=1;break}return r.abrupt("return",[]);case 1:return r.next=2,fetch("".concat(s.config.apiBaseUrl,"/api/sort"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:n,timezone:t})});case 2:return i=r.sent,r.next=3,i.json();case 3:if(a=r.sent,i.ok){r.next=4;break}throw l=a&&"string"==typeof a.error?a.error:"Unable to sort items right now.",new Error(l);case 4:return r.abrupt("return",d(a).sorted);case 5:case"end":return r.stop()}},r)}))()}};t.default=m},51728(e,t,r){var n=r(18772),o=r(66584);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(16578)),a=n(r(3791)),s=n(r(51750)),l=n(r(26007)),c=n(r(58361)),u=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var r,n,i={__proto__:null,default:e};if(null===e||"object"!=o(e)&&"function"!=typeof e)return i;if(r=t){if(r.has(e))return r.get(e);r.set(e,i)}for(var a in e)"default"!==a&&{}.hasOwnProperty.call(e,a)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,a))&&(n.get||n.set)?r(i,a,n):i[a]=e[a]);return i}(e)}(r(25602)),d=r(71582),m=r(20662),f=n(r(40629)),p=n(r(81731)),g=n(r(75128)),b=n(r(41262)),y=n(r(26216)),T=r(15547),k=r(56045),_=r(46586),h=this,x="C:\\Users\\Steve\\OneDrive\\Desktop\\Github Repos\\spark-adhd-backup\\src\\screens\\BrainDumpScreen.tsx";function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S={top:_.Tokens.spacing[4],bottom:_.Tokens.spacing[4],left:_.Tokens.spacing[4],right:_.Tokens.spacing[4]},w=["task","event","reminder","worry","thought","idea"],E=d.StyleSheet.create({container:{flex:1,backgroundColor:_.Tokens.colors.neutral.darkest},centerContainer:{flex:1,alignItems:"center"},contentWrapper:{flex:1,width:"100%",maxWidth:_.Tokens.layout.maxWidth.prose,padding:_.Tokens.spacing[6]},header:{marginBottom:_.Tokens.spacing[8]},title:{fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type["4xl"],fontWeight:"800",color:_.Tokens.colors.text.primary,marginBottom:_.Tokens.spacing[2],letterSpacing:2},subtitle:{fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type.base,color:_.Tokens.colors.text.secondary,letterSpacing:1},inputSection:{flexDirection:"row",marginBottom:_.Tokens.spacing[8],gap:_.Tokens.spacing[3],alignItems:"center"},inputWrapper:v({flex:1,backgroundColor:_.Tokens.colors.neutral.darker,borderRadius:_.Tokens.radii.none,borderWidth:1,borderColor:_.Tokens.colors.neutral.borderSubtle,minHeight:56,justifyContent:"center"},d.Platform.select({web:{transition:_.Tokens.motion.transitions.base}})),inputWrapperFocused:v({borderColor:_.Tokens.colors.brand[500]},d.Platform.select({web:{boxShadow:"0 0 0 2px ".concat(_.Tokens.colors.brand[900])}})),input:v({paddingHorizontal:_.Tokens.spacing[4],color:_.Tokens.colors.text.primary,fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type.base,minHeight:56,textAlignVertical:"center",paddingVertical:0},d.Platform.select({web:{outlineStyle:"none"}})),addButton:{minHeight:56,width:80,justifyContent:"center",alignItems:"center"},actionsBar:{flexDirection:"row",justifyContent:"space-between",marginBottom:_.Tokens.spacing[4],paddingHorizontal:_.Tokens.spacing[2],alignItems:"center"},actionsRight:{flexDirection:"row",alignItems:"center",gap:_.Tokens.spacing[4]},actionButton:v({paddingVertical:_.Tokens.spacing[2],paddingHorizontal:_.Tokens.spacing[3],borderRadius:_.Tokens.radii.none},d.Platform.select({web:{transition:_.Tokens.motion.transitions.base}})),actionButtonDisabled:{opacity:.5,pointerEvents:"none"},clearHovered:{backgroundColor:_.Tokens.colors.neutral.dark},clearPressed:{backgroundColor:_.Tokens.colors.neutral.darkest,opacity:.8,transform:[{scale:_.Tokens.motion.scales.press}]},countText:{fontFamily:_.Tokens.type.fontFamily.sans,color:_.Tokens.colors.text.tertiary,fontSize:_.Tokens.type.xs,fontWeight:"700",letterSpacing:1},clearText:{fontFamily:_.Tokens.type.fontFamily.sans,color:_.Tokens.colors.error.main,fontSize:_.Tokens.type.xs,fontWeight:"700",letterSpacing:1},aiSortText:{fontFamily:_.Tokens.type.fontFamily.sans,color:_.Tokens.colors.brand[400],fontSize:_.Tokens.type.xs,fontWeight:"700",letterSpacing:1},sortedSection:{marginTop:_.Tokens.spacing[6],marginBottom:_.Tokens.spacing[6],padding:_.Tokens.spacing[5],backgroundColor:_.Tokens.colors.neutral.darker,borderRadius:_.Tokens.radii.none,borderWidth:1,borderColor:_.Tokens.colors.brand[500]+"30"},sortedTitle:{fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type.lg,fontWeight:"700",color:_.Tokens.colors.text.primary,marginBottom:_.Tokens.spacing[4],letterSpacing:1},sortedGroup:{marginBottom:_.Tokens.spacing[5]},sortedCategory:{fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type.xs,fontWeight:"700",color:_.Tokens.colors.brand[400],textTransform:"uppercase",letterSpacing:1,marginBottom:_.Tokens.spacing[3],opacity:.9},sortedItemRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",paddingVertical:_.Tokens.spacing[2],marginBottom:_.Tokens.spacing[1]},sortedItemText:{flex:1,fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type.sm,color:_.Tokens.colors.text.secondary,lineHeight:1.5*_.Tokens.type.sm,marginRight:_.Tokens.spacing[3]},priorityBadge:{paddingHorizontal:_.Tokens.spacing[2],paddingVertical:2,borderRadius:_.Tokens.radii.sm,minWidth:50,alignItems:"center"},priorityText:{fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type.xxs,fontWeight:"700",textTransform:"uppercase",color:_.Tokens.colors.text.primary},priorityHigh:{backgroundColor:_.Tokens.colors.error.main},priorityMedium:{backgroundColor:_.Tokens.colors.warning.main},priorityLow:{backgroundColor:_.Tokens.colors.brand[500]},listContent:{paddingBottom:120},item:v({backgroundColor:_.Tokens.colors.neutral.darker,borderRadius:_.Tokens.radii.none,paddingHorizontal:_.Tokens.spacing[5],paddingVertical:_.Tokens.spacing[4],marginBottom:_.Tokens.spacing[3],flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderWidth:1,borderColor:_.Tokens.colors.neutral.borderSubtle},d.Platform.select({web:{transition:_.Tokens.motion.transitions.base}})),itemText:{flex:1,color:_.Tokens.colors.text.primary,fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type.base,lineHeight:1.5*_.Tokens.type.base,marginRight:_.Tokens.spacing[4]},deleteButton:v({padding:_.Tokens.spacing[2],borderRadius:_.Tokens.radii.none,width:36,height:36,alignItems:"center",justifyContent:"center"},d.Platform.select({web:{transition:_.Tokens.motion.transitions.base}})),deleteButtonHovered:{backgroundColor:_.Tokens.colors.neutral.dark},deleteButtonPressed:{backgroundColor:_.Tokens.colors.error.subtle,transform:[{scale:_.Tokens.motion.scales.press}]},deleteText:{color:_.Tokens.colors.text.tertiary,fontSize:_.Tokens.type.h2,fontWeight:"300",marginTop:-2},emptyState:{alignItems:"center",marginTop:_.Tokens.spacing[12],opacity:.5},emptyIcon:{fontSize:_.Tokens.type["5xl"],marginBottom:_.Tokens.spacing[4]},emptyText:{fontFamily:_.Tokens.type.fontFamily.sans,color:_.Tokens.colors.text.tertiary,fontSize:_.Tokens.type.base,letterSpacing:1,textTransform:"uppercase"},recordSection:{alignItems:"center",marginBottom:_.Tokens.spacing[8]},recordButton:v({flexDirection:"row",alignItems:"center",backgroundColor:_.Tokens.colors.neutral.darker,paddingHorizontal:_.Tokens.spacing[6],paddingVertical:_.Tokens.spacing[3],borderRadius:_.Tokens.radii.none,borderWidth:1,borderColor:_.Tokens.colors.neutral.border,minWidth:160,justifyContent:"center"},d.Platform.select({web:{transition:_.Tokens.motion.transitions.base,cursor:"pointer"}})),recordButtonHovered:v({transform:[{translateY:-2}]},d.Platform.select({web:{boxShadow:"0 0 0 rgba(0,0,0,0)"}})),recordButtonActive:{backgroundColor:_.Tokens.colors.error.main+"20",borderColor:_.Tokens.colors.error.main},recordButtonProcessing:{opacity:.7},recordButtonPressed:{opacity:.8,transform:[{scale:_.Tokens.motion.scales.press}]},recordIcon:{fontSize:_.Tokens.type.h3,marginRight:_.Tokens.spacing[2]},recordText:{fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type.base,fontWeight:"600",color:_.Tokens.colors.text.primary,letterSpacing:1},errorText:{fontFamily:_.Tokens.type.fontFamily.sans,fontSize:_.Tokens.type.xs,color:_.Tokens.colors.error.main,marginTop:_.Tokens.spacing[2],textAlign:"center"}});t.default=function(){var e,t,r=(0,m.useRoute)(),n=(0,u.useState)(""),o=(0,c.default)(n,2),a=o[0],N=o[1],v=(0,u.useState)([]),R=(0,c.default)(v,2),I=R[0],A=R[1],P=(0,u.useState)(!1),O=(0,c.default)(P,2),C=O[0],B=O[1],F=(0,u.useState)("idle"),H=(0,c.default)(F,2),L=H[0],W=H[1],j=(0,u.useState)(null),z=(0,c.default)(j,2),D=z[0],M=z[1],V=(0,u.useState)(!1),U=(0,c.default)(V,2),G=U[0],Y=U[1],q=(0,u.useState)(null),K=(0,c.default)(q,2),J=K[0],Q=K[1],X=(0,u.useState)([]),Z=(0,c.default)(X,2),$=Z[0],ee=Z[1],te=(0,u.useRef)(!1),re=(0,u.useRef)(null),ne=(0,u.useRef)(null),oe=(0,u.useRef)(0),ie=(t=(0,l.default)(i.default.mark(function e(){var t,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,f.default.getJSON(f.default.STORAGE_KEYS.brainDump);case 1:if((t=e.sent)&&Array.isArray(t)){e.next=2;break}return e.abrupt("return");case 2:r=t.filter(function(e){return Boolean((null==e?void 0:e.id)&&(null==e?void 0:e.text)&&(null==e?void 0:e.createdAt))}),d.LayoutAnimation.configureNext(d.LayoutAnimation.Presets.easeInEaseOut),A(r);case 3:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});(0,u.useEffect)(function(){"android"===d.Platform.OS&&d.UIManager.setLayoutAnimationEnabledExperimental&&d.UIManager.setLayoutAnimationEnabledExperimental(!0),ie()},[]),(0,u.useEffect)(function(){return re.current&&clearTimeout(re.current),re.current=setTimeout(function(){f.default.setJSON(f.default.STORAGE_KEYS.brainDump,I).catch(function(e){console.error("Failed to persist brain dump items:",e)})},300),I.length!==oe.current&&(ne.current&&clearTimeout(ne.current),ne.current=setTimeout(function(){b.default.updateCount(I.length),oe.current=I.length},250)),function(){re.current&&clearTimeout(re.current),ne.current&&clearTimeout(ne.current)}},[I]),(0,u.useEffect)(function(){var e;null!==(e=r.params)&&void 0!==e&&e.autoRecord&&!te.current&&(te.current=!0,le())},[le,null===(e=r.params)||void 0===e?void 0:e.autoRecord]);var ae,se=function(){if(a.trim()){d.LayoutAnimation.configureNext(d.LayoutAnimation.Presets.easeInEaseOut);var e={id:(0,T.generateId)(),text:a.trim(),createdAt:(new Date).toISOString(),source:"text"};A(function(t){return[e].concat((0,s.default)(t))}),N(""),ee([]),Q(null)}},le=(0,u.useCallback)((0,l.default)(i.default.mark(function e(){var t,r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(M(null),"idle"!==L){e.next=2;break}return e.next=1,p.default.startRecording();case 1:e.sent?W("recording"):M("Could not start recording. Check microphone permissions."),e.next=6;break;case 2:if("recording"!==L){e.next=6;break}return W("processing"),e.next=3,p.default.stopRecording();case 3:if(t=e.sent){e.next=4;break}return M("Recording failed."),W("idle"),e.abrupt("return");case 4:return e.next=5,g.default.transcribe(t.uri);case 5:(r=e.sent).success&&r.transcription?(d.LayoutAnimation.configureNext(d.LayoutAnimation.Presets.easeInEaseOut),n={id:(0,T.generateId)(),text:r.transcription,createdAt:(new Date).toISOString(),source:"audio",audioPath:t.uri},A(function(e){return[n].concat((0,s.default)(e))})):M(r.error||"Transcription failed."),W("idle");case 6:case"end":return e.stop()}},e)})),[L]),ce=(ae=(0,l.default)(i.default.mark(function e(){var t,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Q(null),Y(!0),e.prev=1,e.next=2,y.default.sortItems(I.map(function(e){return e.text}));case 2:t=e.sent,ee(t),d.AccessibilityInfo.announceForAccessibility("AI suggestions updated."),e.next=4;break;case 3:e.prev=3,r=e.catch(1),Q(r instanceof Error?r.message:"AI sort is currently unavailable."),ee([]);case 4:return e.prev=4,Y(!1),e.finish(4);case 5:case"end":return e.stop()}},e,null,[[1,3,4,5]])})),function(){return ae.apply(this,arguments)}),ue=(0,u.useMemo)(function(){var e=new Map;return $.forEach(function(t){var r,n=null!==(r=e.get(t.category))&&void 0!==r?r:[];n.push(t),e.set(t.category,n)}),w.map(function(t){var r;return{category:t,items:null!==(r=e.get(t))&&void 0!==r?r:[]}}).filter(function(e){return e.items.length>0})},[$]);return u.default.createElement(d.SafeAreaView,{style:E.container,__self:h,__source:{fileName:x,lineNumber:316,columnNumber:5}},u.default.createElement(d.View,{style:E.centerContainer,__self:h,__source:{fileName:x,lineNumber:317,columnNumber:7}},u.default.createElement(d.View,{style:E.contentWrapper,__self:h,__source:{fileName:x,lineNumber:318,columnNumber:9}},u.default.createElement(d.View,{style:E.header,__self:h,__source:{fileName:x,lineNumber:319,columnNumber:11}},u.default.createElement(d.Text,{style:E.title,__self:h,__source:{fileName:x,lineNumber:320,columnNumber:13}},"BRAIN DUMP"),u.default.createElement(d.Text,{style:E.subtitle,__self:h,__source:{fileName:x,lineNumber:321,columnNumber:13}},"UNLOAD YOUR THOUGHTS. WE'LL KEEP THEM SAFE.")),u.default.createElement(d.View,{style:E.inputSection,__self:h,__source:{fileName:x,lineNumber:326,columnNumber:11}},u.default.createElement(d.View,{style:[E.inputWrapper,C&&E.inputWrapperFocused],__self:h,__source:{fileName:x,lineNumber:327,columnNumber:13}},u.default.createElement(d.TextInput,{style:E.input,placeholder:"WHAT'S ON YOUR MIND?",placeholderTextColor:_.Tokens.colors.text.tertiary,accessibilityLabel:"Add a brain dump item",accessibilityHint:"Type a thought and press Add",value:a,onChangeText:N,onSubmitEditing:se,onFocus:function(){return B(!0)},onBlur:function(){return B(!1)},multiline:!1,returnKeyType:"done",blurOnSubmit:!0,__self:h,__source:{fileName:x,lineNumber:333,columnNumber:15}})),u.default.createElement(k.LinearButton,{title:"Add",onPress:se,size:"lg",style:E.addButton,__self:h,__source:{fileName:x,lineNumber:349,columnNumber:13}})),u.default.createElement(d.View,{style:E.recordSection,__self:h,__source:{fileName:x,lineNumber:358,columnNumber:11}},u.default.createElement(d.Pressable,{onPress:le,disabled:"processing"===L,accessibilityRole:"button",accessibilityLabel:"recording"===L?"Stop recording":"Start recording",accessibilityHint:"Records voice and converts it to a task item",style:function(e){var t=e.pressed,r=e.hovered;return[E.recordButton,r&&E.recordButtonHovered,"recording"===L&&E.recordButtonActive,"processing"===L&&E.recordButtonProcessing,t&&E.recordButtonPressed]},__self:h,__source:{fileName:x,lineNumber:359,columnNumber:13}},"processing"===L?u.default.createElement(d.ActivityIndicator,{size:"small",color:_.Tokens.colors.text.primary,__self:h,__source:{fileName:x,lineNumber:385,columnNumber:17}}):u.default.createElement(d.Text,{style:E.recordIcon,__self:h,__source:{fileName:x,lineNumber:390,columnNumber:17}},"recording"===L?"‚èπÔ∏è":"üéôÔ∏è"),u.default.createElement(d.Text,{style:E.recordText,__self:h,__source:{fileName:x,lineNumber:394,columnNumber:15}},"idle"===L&&"RECORD","recording"===L&&"STOP","processing"===L&&"PROCESSING...")),D&&u.default.createElement(d.Text,{style:E.errorText,__self:h,__source:{fileName:x,lineNumber:401,columnNumber:15}},D)),I.length>0&&u.default.createElement(d.View,{style:E.actionsBar,__self:h,__source:{fileName:x,lineNumber:406,columnNumber:13}},u.default.createElement(d.Text,{style:E.countText,__self:h,__source:{fileName:x,lineNumber:407,columnNumber:15}},I.length," ITEMS"),u.default.createElement(d.View,{style:E.actionsRight,__self:h,__source:{fileName:x,lineNumber:408,columnNumber:15}},u.default.createElement(d.Pressable,{onPress:ce,disabled:G,accessibilityRole:"button",accessibilityLabel:"AI sort",accessibilityHint:"Sorts and groups items using AI suggestions",style:function(e){var t=e.pressed,r=e.hovered;return[E.actionButton,r&&E.clearHovered,t&&E.clearPressed,G&&E.actionButtonDisabled]},__self:h,__source:{fileName:x,lineNumber:409,columnNumber:17}},u.default.createElement(d.Text,{style:E.aiSortText,__self:h,__source:{fileName:x,lineNumber:428,columnNumber:19}},G?"SORTING...":"AI SORT")),u.default.createElement(d.Pressable,{onPress:function(){d.Alert.alert("Clear all items?","This will remove all brain dump entries.",[{text:"Cancel",style:"cancel"},{text:"Clear",style:"destructive",onPress:function(){d.LayoutAnimation.configureNext(d.LayoutAnimation.Presets.easeInEaseOut),A([]),ee([]),Q(null),d.AccessibilityInfo.announceForAccessibility("All items cleared.")}}],{cancelable:!0})},accessibilityRole:"button",accessibilityLabel:"Clear all items",accessibilityHint:"Opens a confirmation to remove all items",style:function(e){var t=e.pressed,r=e.hovered;return[E.actionButton,r&&E.clearHovered,t&&E.clearPressed]},__self:h,__source:{fileName:x,lineNumber:432,columnNumber:17}},u.default.createElement(d.Text,{style:E.clearText,__self:h,__source:{fileName:x,lineNumber:449,columnNumber:19}},"CLEAR ALL")))),J&&u.default.createElement(d.Text,{style:E.errorText,__self:h,__source:{fileName:x,lineNumber:455,columnNumber:28}},J),ue.length>0&&u.default.createElement(d.View,{style:E.sortedSection,__self:h,__source:{fileName:x,lineNumber:458,columnNumber:13}},u.default.createElement(d.Text,{style:E.sortedTitle,__self:h,__source:{fileName:x,lineNumber:459,columnNumber:15}},"AI SUGGESTIONS"),ue.map(function(e){var t=e.category,r=e.items;return u.default.createElement(d.View,{key:t,style:E.sortedGroup,__self:h,__source:{fileName:x,lineNumber:461,columnNumber:17}},u.default.createElement(d.Text,{style:E.sortedCategory,__self:h,__source:{fileName:x,lineNumber:462,columnNumber:19}},t.toUpperCase()),r.map(function(e,r){return u.default.createElement(d.View,{key:"".concat(t,"-").concat(r,"-").concat(e.text),style:E.sortedItemRow,__self:h,__source:{fileName:x,lineNumber:466,columnNumber:21}},u.default.createElement(d.Text,{style:E.sortedItemText,__self:h,__source:{fileName:x,lineNumber:470,columnNumber:23}},e.text),u.default.createElement(d.View,{style:[E.priorityBadge,(n=e.priority,"high"===n?E.priorityHigh:"medium"===n?E.priorityMedium:E.priorityLow)],__self:h,__source:{fileName:x,lineNumber:471,columnNumber:23}},u.default.createElement(d.Text,{style:E.priorityText,__self:h,__source:{fileName:x,lineNumber:477,columnNumber:25}},e.priority)));var n}))})),u.default.createElement(d.FlatList,{data:I,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return u.default.createElement(d.View,{style:E.item,__self:h,__source:{fileName:x,lineNumber:290,columnNumber:5}},u.default.createElement(d.Text,{style:E.itemText,__self:h,__source:{fileName:x,lineNumber:291,columnNumber:7}},t.text),u.default.createElement(d.Pressable,{onPress:function(){return e=t.id,d.LayoutAnimation.configureNext(d.LayoutAnimation.Presets.easeInEaseOut),A(function(t){return t.filter(function(t){return t.id!==e})}),ee([]),void Q(null);var e},accessibilityRole:"button",accessibilityLabel:"Delete brain dump item",accessibilityHint:"Removes this item from the list",style:function(e){var t=e.pressed,r=e.hovered;return[E.deleteButton,r&&E.deleteButtonHovered,t&&E.deleteButtonPressed]},hitSlop:S,__self:h,__source:{fileName:x,lineNumber:292,columnNumber:7}},u.default.createElement(d.Text,{style:E.deleteText,__self:h,__source:{fileName:x,lineNumber:310,columnNumber:9}},"√ó")))},keyboardShouldPersistTaps:"handled",keyboardDismissMode:"on-drag",initialNumToRender:10,maxToRenderPerBatch:10,updateCellsBatchingPeriod:50,windowSize:11,removeClippedSubviews:"android"===d.Platform.OS,contentContainerStyle:E.listContent,showsVerticalScrollIndicator:!1,ListEmptyComponent:u.default.createElement(d.View,{style:E.emptyState,__self:h,__source:{fileName:x,lineNumber:500,columnNumber:15}},u.default.createElement(d.Text,{style:E.emptyIcon,__self:h,__source:{fileName:x,lineNumber:501,columnNumber:17}},"‚òÅÔ∏è"),u.default.createElement(d.Text,{style:E.emptyText,__self:h,__source:{fileName:x,lineNumber:502,columnNumber:17}},"YOUR MIND IS CLEAR... FOR NOW.")),__self:h,__source:{fileName:x,lineNumber:486,columnNumber:11}}))))}},81731(e,t,r){var n=r(18772);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RecordingService=void 0;var o,i,a,s,l=n(r(16578)),c=n(r(26007)),u=n(r(66593)),d=n(r(82857)),m=function(){try{var e;return null!==(e=r(59654).Audio)&&void 0!==e?e:null}catch(e){return null}},f=(0,d.default)(function e(){(0,u.default)(this,e),this.recording=null,this.isRecording=!1},[{key:"requestPermissions",value:(s=(0,c.default)(l.default.mark(function e(){var t,r,n,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=m()){e.next=1;break}return console.warn("Recording unavailable: expo-av is not installed"),e.abrupt("return",!1);case 1:return e.next=2,t.requestPermissionsAsync();case 2:return r=e.sent,n=r.status,e.abrupt("return","granted"===n);case 3:return e.prev=3,o=e.catch(0),console.error("Permission request failed:",o),e.abrupt("return",!1);case 4:case"end":return e.stop()}},e,null,[[0,3]])})),function(){return s.apply(this,arguments)})},{key:"startRecording",value:(a=(0,c.default)(l.default.mark(function e(){var t,r,n,o,i,a,s;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isRecording){e.next=1;break}return console.warn("Already recording"),e.abrupt("return",!1);case 1:if(e.prev=1,n=m()){e.next=2;break}return console.warn("Recording unavailable: expo-av is not installed"),e.abrupt("return",!1);case 2:return e.next=3,this.requestPermissions();case 3:if(e.sent){e.next=4;break}return console.error("Microphone permission not granted"),e.abrupt("return",!1);case 4:return e.next=5,n.setAudioModeAsync({allowsRecordingIOS:!0,playsInSilentModeIOS:!0});case 5:return o=null!==(t=null===(r=n.RecordingOptionsPresets)||void 0===r?void 0:r.HIGH_QUALITY)&&void 0!==t?t:n.Recording.OptionsPresets.HIGH_QUALITY,e.next=6,n.Recording.createAsync(o);case 6:return i=e.sent,a=i.recording,this.recording=a,this.isRecording=!0,console.log("Recording started"),e.abrupt("return",!0);case 7:return e.prev=7,s=e.catch(1),console.error("Failed to start recording:",s),e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,this,[[1,7]])})),function(){return a.apply(this,arguments)})},{key:"stopRecording",value:(i=(0,c.default)(l.default.mark(function e(){var t,r,n,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.recording&&this.isRecording){e.next=1;break}return console.warn("No active recording"),e.abrupt("return",null);case 1:if(e.prev=1,t=m()){e.next=2;break}return console.warn("Recording unavailable: expo-av is not installed"),this.recording=null,this.isRecording=!1,e.abrupt("return",null);case 2:return e.next=3,this.recording.stopAndUnloadAsync();case 3:return e.next=4,t.setAudioModeAsync({allowsRecordingIOS:!1});case 4:return r=this.recording.getURI(),e.next=5,this.recording.getStatusAsync();case 5:if(n=e.sent,this.recording=null,this.isRecording=!1,r){e.next=6;break}return console.error("No recording URI"),e.abrupt("return",null);case 6:return console.log("Recording stopped:",r),e.abrupt("return",{uri:r,duration:n.durationMillis||0});case 7:return e.prev=7,o=e.catch(1),console.error("Failed to stop recording:",o),this.recording=null,this.isRecording=!1,e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this,[[1,7]])})),function(){return i.apply(this,arguments)})},{key:"getIsRecording",value:function(){return this.isRecording}},{key:"cancelRecording",value:(o=(0,c.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.recording){e.next=5;break}return e.prev=1,e.next=2,this.recording.stopAndUnloadAsync();case 2:e.next=4;break;case 3:e.prev=3,e.catch(1);case 4:this.recording=null,this.isRecording=!1;case 5:case"end":return e.stop()}},e,this,[[1,3]])})),function(){return o.apply(this,arguments)})},{key:"reset",value:function(){this.recording=null,this.isRecording=!1}}]),p=t.RecordingService=new f;t.default=p}}]);